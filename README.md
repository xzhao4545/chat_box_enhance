# 聊天助手大纲 (Chat Assistant Outline)

一个支持多个AI聊天平台的用户脚本，为对话生成可交互的大纲视图，提升聊天体验和内容导航效率。

## 功能特性

### 🎯 核心功能
- **智能大纲生成**: 自动解析对话内容，生成结构化大纲
- **多平台支持**: 支持 ChatGPT、DeepSeek、豆包、Grok、通义千问、Qwen 等主流AI平台
- **实时更新**: 监听对话变化，实时更新大纲内容
- **层级结构**: 自动识别Markdown标题，构建可展开的树形结构

### 🎨 界面特性
- **双主题模式**: 支持明亮/暗黑主题切换
- **响应式设计**: 自适应不同屏幕尺寸
- **动画效果**: 平滑的展开/收起动画和高亮效果
- **可视化标识**: 用户消息(👤)和AI回复(🤖)的直观区分

## 支持平台

| 平台 | 域名 | 状态 |
|------|------|------|
| ChatGPT | chatgpt.com | ✅ 支持 |
| DeepSeek | chat.deepseek.com | ✅ 支持 |
| 豆包 | *.doubao.com | ✅ 支持 |
| Grok | grok.com | ✅ 支持 |
| 通义千问 | www.qianwen.com | ✅ 支持 |
| Qwen | chat.qwen.ai | ✅ 支持 |

## 安装使用

### 安装步骤
1. 从 [GitHub仓库](https://github.com/xzhao4545/chat_box_enhance) 下载或复制 `index.js` 中的完整脚本代码
2. 在 Tampermonkey 中创建新脚本
3. 粘贴代码并保存
4. 访问支持的AI聊天平台即可自动启用

### 使用说明
- 大纲面板会自动出现在聊天界面右侧
- 点击大纲项可快速跳转到对应消息
- 使用控制按钮进行个性化设置

## 界面控制

### 控制按钮
- **🔄 刷新**: 强制刷新大纲内容
- **📂/📁 展开/收起**: 批量展开或收起所有节点
- **🌙/☀️ 主题**: 切换明亮/暗黑主题
- **✕ 隐藏**: 隐藏大纲面板

### 快捷操作
- 点击消息项: 跳转到对应对话位置
- 点击标题节点: 跳转到具体标题位置
- 展开/收起按钮: 控制子内容显示

## 更新日志

### v0.0.1
- 初始版本发布
- 支持6个主流AI聊天平台
- 实现基础大纲功能和主题切换
- 添加性能优化和缓存机制

### v0.0.2
- 添加大纲插入重试，当多次插入失败时，改为直接插入body
- 修改tongyi.com网址为qianwen.com

### v0.0.3
- 优化元素缓存方法，更新大纲时不再重置元素状态
- 更新deepseek页面监听元素路径，使无对话时仍可正常监听
- 更新chatgpt页面插入时机，在页面渲染完成后再进行插入

## 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个项目！

### 如何贡献
1. Fork 本仓库: [https://github.com/xzhao4545/chat_box_enhance](https://github.com/xzhao4545/chat_box_enhance)
2. 创建你的功能分支
3. 提交你的更改
4. 推送到分支
5. 创建 Pull Request

### 添加新平台支持
1. 在 `judgePlatform()` 函数中添加平台判断逻辑
2. 在 `getParserConfig()` 函数中添加对应的解析配置
3. 测试并提交代码